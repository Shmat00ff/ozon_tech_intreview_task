
# Милые пёсики
У нас есть программа для загрузки [картинок собак](https://dog.ceo/dog-api/documentation). Для этой программы уже написан тест.  
На вход подается порода собаки. Функция находит одну случайную картинку этой собаки и загружает её на [Я.Диск](https://yandex.ru/dev/disk/poligon/).
Если у породы есть подпороды, то для каждой подпороды загружается по одной картинки.
Например, для doberman будет одна картинка, а для spaniel 7 картинок по одной на каждую подпороду.

# Задание:
Нужно перечислить 10 основных проблем в коде.  
Все найденные проблемы нужно отранжировать по критичности.

# Задание со звёздочкой:
Переписать код так, как Вы считаете нужным, исправив все проблемы.


## Ответ на задание:
### Высоко-Критичные проблемы:
***Жестко прописанный токен***:
Токен OAuth для доступа к Яндекс.Диску прописан в коде (строка 44, 56).

***Отсутствие обработки ошибок HTTP-запросов***:
Методы requests.get() и requests.post() не проверяют, успешен ли запрос (status_code).

***Отсутствие проверки на успешное создание папки***:
В методе create_folder результат выполнения запроса не проверяется. Если папка не создастся (например, из-за ошибки в API), программа продолжит выполнение с ошибкой.

***Неправильное использование случайного выбора в pytest.mark.parametrize***:
Использование random.choice() внутри декоратора pytest.mark.parametrize приведет к тому, что каждый раз, когда запускается тест, будет использоваться случайный элемент.

***Разделить тесты и основную программу***:
Если тесты и основная программа находятся в одном файле, изменения в основной логике могут случайно затронуть тесты
Так же для структуризации проекта и чистоты кода.

### Средне-Критичные проблемы:
***Повторяющийся код***:
Код для создания заголовков в API-запросах дублируется в разных местах. Можно вынести его в отдельную функцию.

***Отсутствие документации и комментариев***:
В коде отсутствуют комментарии и документация, что усложняет его понимание. Нужно добавлять описания функций и важных участков кода.

***Нет модульных тестов для функций***:
Текущие тесты проверяют только общую функциональность загрузки. Отсутствие модульных тестов для этих функций может затруднить диагностику проблем в отдельных частях программы.

***Отсутствие обработки ошибок HTTP-запросов***:
Методы и не проверяют, успешен ли запрос (status_code).

### Низко-Критичные проблемы:
***Логирование***:
Нужно добавить логирование в код, чтобы легче отслеживать процесс выполнения и выявлять ошибки

